# 第 9 章 基本文本处理

## 9.3 使用 sort 命令对文本排序

### 9.3.1 sort 命令的基本用法

demo5.txt
```
Toy_Story                 HK           239          3972
The_Hill                  KL           63           2972
Star_Wars                 HK           301          4102
Boys_in_Company_C         HK           192          2192
Aliens                    HK           532          4892
Alien                     HK           119          1982
A_Few_Good_Men            KL           445          5851
```

如果不指定任何选项，则 sort 命令会将整个文本行作为一个关键字来排序。
```
$ sort demo5.txt 
A_Few_Good_Men            KL           445          5851
Alien                     HK           119          1982
Aliens                    HK           532          4892
Boys_in_Company_C         HK           192          2192
Star_Wars                 HK           301          4102
The_Hill                  KL           63           2972
Toy_Story                 HK           239          3972
```

### 9.3.2 使用单个关键字排序

pos1 表示排序关键字的起始位置，pos2 表示排序关键字的结束位置，这两者之间用逗号隔开。通常情况下，组成排序关键字都是以列为单位的。此时，pos1 和 pos2 就是关键字的起始列和结束列的列号。列号从 1 开始，即第 1 列为 1，第 2 列为 2，依此类推。
```
-k pos1[,pos2]
```
**注意：sort 命令中，一个文本行最多只能包括 10 列。**


```
$ sort -k 2,3 demo5.txt 
Alien                     HK           119          1982
Boys_in_Company_C         HK           192          2192
Toy_Story                 HK           239          3972
Star_Wars                 HK           301          4102
Aliens                    HK           532          4892
A_Few_Good_Men            KL           445          5851
The_Hill                  KL           63           2972
```
**注意：sort 命令会将列的值作为字符串来排序。而 “63” 中的第 1 个字符 “6” 的 ASCII 码比其余的值的第 1 个字符的 ASCII 码值都大，所以排到了最后。**


表示从 pos 参数指定的列开始，一直到文本行的结尾都是排序关键字。
```
-k pos
```

demo6.txt
```
Toy_Story                 HK           239          3972
The_Hill                  KL           63           2972
Star_Wars                 HK           301          4102
Boys_in_Company_C         HK           239          2192
Aliens                    HK           532          4892
Alien                     HK           119          1982
A_Few_Good_Men            KL           445          5851
```

```
$ sort -k 2 demo6.txt 
Alien                     HK           119          1982
Boys_in_Company_C         HK           239          2192
Toy_Story                 HK           239          3972
Star_Wars                 HK           301          4102
Aliens                    HK           532          4892
A_Few_Good_Men            KL           445          5851
The_Hill                  KL           63           2972
```



